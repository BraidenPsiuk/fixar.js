var m=Object.defineProperty;var w=(r,o,t)=>o in r?m(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t;var c=(r,o,t)=>(w(r,typeof o!="symbol"?o+"":o,t),t);(function(r,o){typeof exports=="object"&&typeof module!="undefined"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(r=typeof globalThis!="undefined"?globalThis:r||self,o(r.FIXAR={}))})(this,function(r){"use strict";const o={wrapper:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000"},viewport:{display:"block",backgroundColor:"#FFF"}},t={},l={THREE:"Object3D",PIXI:"ProjectionSystem",PHASER3:"Game",BABYLON:"PhysicsImpostor"},u=(...a)=>{for(const e of a){let s=!1;for(const[i,n]of Object.entries(l))e[n]&&(s=!0,t[i]?console.warn("Library already provided, it has been ignored"):(t[i]=e,console.log(`%cSuccessfully loaded the ${i} library!`,"color:green")));s||console.warn("Library unsupported")}};class p{constructor({ar:e=16/9,renderingLibrary:s="THREE",quality:i=1,wrapperColor:n="#000000",camera:d=null,renderer:h=null}={}){c(this,"registerComponents",(e,s)=>{this.camera=e,this.renderer=s});if(s=s.trim().toUpperCase(),!Object.keys(l).includes(s))throw new Error(`Rendering library "${s}" is not supported`);if(Object.keys(t).includes(s))console.log("%cSuccessfully initialized Viewport!","color:green");else throw new Error(`The "${s}" rendering library hasn't been provided to FIXAR. You must first call FIXAR.use(${s}) before attempting to create a viewport using that rendering library.`);this._NEED_TO_RESIZE=!0,this._INITIALIZED=!1,this._viewport=null,this._wrapper=document.createElement("div");for(const[f,E]of Object.entries(o.wrapper))this._wrapper.style[f]=E;this._ar=e,this._renderingLibrary=s,this._quality=i,this._wrapperColor=n,this.registerComponents(d,h)}set camera(e){if(e===null)this._camera=null;else switch(this._renderingLibrary){case"THREE":if(e.constructor.name===t.THREE.PerspectiveCamera.name||e.constructor.name===t.THREE.OrthographicCamera.name)this._camera=e;else throw new Error(`Please provide ${t.THREE.PerspectiveCamera.name} or ${t.THREE.OrthographicCamera.name}, you provided ${e.constructor.name}`);break}}get camera(){return this._camera}set renderer(e){if(e===null)this._renderer=null;else switch(this._renderingLibrary){case"THREE":if(e.constructor.name===t.THREE.WebGLRenderer.name)this._renderer=e;else throw new Error(`Please provide ${t.THREE.WebGLRenderer.name}, you provided ${e.constructor.name}`);break}}get renderer(){return this._renderer}}r.Viewport=p,r.use=u,Object.defineProperty(r,"__esModule",{value:!0}),r[Symbol.toStringTag]="Module"});
