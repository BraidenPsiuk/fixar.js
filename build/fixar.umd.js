var m=Object.defineProperty;var _=(r,o,t)=>o in r?m(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t;var u=(r,o,t)=>(_(r,typeof o!="symbol"?o+"":o,t),t);(function(r,o){typeof exports=="object"&&typeof module!="undefined"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(r=typeof globalThis!="undefined"?globalThis:r||self,o(r.FIXAR={}))})(this,function(r){"use strict";const o={wrapper:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},container:{display:"block",backgroundColor:"#FFF"}},t={},c={THREE:"Object3D",PIXI:"ProjectionSystem",PHASER3:"Game",BABYLON:"PhysicsImpostor"},d=(...p)=>{for(const e of p){let s=!1;for(const[i,n]of Object.entries(c))e[n]&&(s=!0,t[i]?console.warn("Library already provided, it has been ignored"):(t[i]=e,console.log(`%cSuccessfully loaded the ${i} library!`,"color:green")));s||console.warn("Library unsupported")}};class h{constructor({ar:e=16/9,renderingLibrary:s="THREE",quality:i=1,wrapperColor:n="#000000",camera:f=null,renderer:E=null}={}){u(this,"registerComponents",(e,s)=>{this.camera=e,this.renderer=s});if(s=s.trim().toUpperCase(),!Object.keys(c).includes(s))throw new Error(`Rendering library "${s}" is not supported`);if(Object.keys(t).includes(s))console.log("%cSuccessfully initialized Viewport!","color:green");else throw new Error(`The "${s}" rendering library hasn't been provided to FIXAR. You must first call FIXAR.use(${s}) before attempting to create a viewport using that rendering library.`);this._NEED_TO_RESIZE=!0,this._INITIALIZED=!1,this._ar=e,this._renderingLibrary=s,this._quality=i,this._wrapperColor=n,this.registerComponents(f,E),this._container=document.createElement("div"),this._container.setAttribute("id","fixar-container");for(const[a,l]of Object.entries(o.container))this._container.style[a]=l;this._wrapper=document.createElement("div"),this._wrapper.setAttribute("id","fixar-wrapper");for(const[a,l]of Object.entries(o.wrapper))this._wrapper.style[a]=l;this._wrapper.style.backgroundColor=this._wrapperColor,this._container.appendChild(this._wrapper)}set camera(e){if(e===null)this._camera=null;else switch(this._renderingLibrary){case"THREE":if(e.constructor.name===t.THREE.PerspectiveCamera.name||e.constructor.name===t.THREE.OrthographicCamera.name)this._camera=e;else throw new Error(`Please provide ${t.THREE.PerspectiveCamera.name} or ${t.THREE.OrthographicCamera.name}, you provided ${e.constructor.name}`);break}}get camera(){return this._camera}set renderer(e){if(e===null)this._renderer=null;else switch(this._renderingLibrary){case"THREE":if(e.constructor.name===t.THREE.WebGLRenderer.name)this._renderer=e,this._wrapper.appendChild(this._renderer.domElement);else throw new Error(`Please provide ${t.THREE.WebGLRenderer.name}, you provided ${e.constructor.name}`);break}}get renderer(){return this._renderer}}r.Viewport=h,r.use=d,Object.defineProperty(r,"__esModule",{value:!0}),r[Symbol.toStringTag]="Module"});
